# Evaluating refactorings for disciplining #ifdef annotations: An eye tracking study with novices
José Aldo, Rohit Gheyi, Marcio Ribeiro, Sven Apel, Vander Alves, Baldoino Fonseca, Flávio Medeiros, Alessandro Garcia

## Overview
The C preprocessor is widely used in practice. Conditional compilation with #ifdef annotations allows developers to flexibly introduce variability in their programs. Developers can use disciplined annotations, entirely enclosing full statements with preprocessor directives, or undisciplined ones, enclosing only parts of the statements. Despite some debate, there is no consensus on whether a developer should use exclusively disciplined annotations. While one prior study found undisciplined annotations more time-consuming and error-prone, another study found no difference between disciplined and undisciplined annotations regarding task completion time and accuracy. In this article, we evaluate whether three fine-grained refactorings to discipline #ifdef annotations correlate with improvements in code comprehension and visual effort with an eye tracker. We conduct a controlled experiment with 64 human subjects who were majoritarily novices in the C programming language. We observed statistically significant differences for two refactorings to discipline annotations with respect to the analyzed metrics (time, fixation duration, fixation count, and regressions count) in the code regions changed by each refactoring.

Keywords: refactoring · #ifdefs · eye tracking · code comprehension · disciplined annotations · undisciplined annotations

## Experiment Material

All tasks, forms, reponse time, accuracy, and fixation data of all tasks are available <a href="https://github.com/josealdo/EMSE20-ifdefs-with-eye-tracking/blob/master/Experiment%20Material">here</a>.

## Results

All tables summarizing the results are available <a href="https://github.com/josealdo/EMSE20-ifdefs-with-eye-tracking/blob/master/Results">here</a>.

## Graphical Visualizations 

All graphical visualizations regarding fixations are available <a href="https://github.com/josealdo/EMSE20-ifdefs-with-eye-tracking/blob/master/Graphical%20Visualizations">here</a>.


